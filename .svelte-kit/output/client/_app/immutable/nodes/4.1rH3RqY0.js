import"../chunks/DsnmJJEf.js";import{i as Me}from"../chunks/gzsJLoAv.js";import{c as ue,f as te,a as _,k as Te,l as I,n as Ye,o as h,q as je,r as n,B as e,$ as Ie,w as z,m as D,z as d,v as a,u as i,x as r,t as B,y as ne}from"../chunks/EyY2Qe4w.js";import{h as ze,s as b}from"../chunks/BpIlfRRV.js";import{i as M}from"../chunks/4eF5hKyW.js";import{I as De,s as Ze,a as ie,e as Ne,b as We,i as Ee}from"../chunks/wEJ3cds_.js";import{c as xe}from"../chunks/BdCZeLkR.js";import{l as Fe,s as Le,p as Ue}from"../chunks/DCLTBedR.js";import{g as fe,f as p}from"../chunks/DXgxfkXT.js";import{C as Z}from"../chunks/BZuN3xt8.js";import{T as le,C as ve}from"../chunks/B_IaCO09.js";import{C as qe}from"../chunks/CPJhke_z.js";import{T as ce}from"../chunks/CRv3yRHf.js";function He(re,O){const R=Fe(O,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.541.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */const G=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}]];De(re,Le({name:"chart-pie"},()=>R,{get iconNode(){return G},children:(J,T)=>{var E=ue(),f=te(E);Ze(f,O,"default",{}),_(J,E)},$$slots:{default:!0}}))}var Oe=h('<p class="text-danger-600"> </p>'),Re=h('<div class="flex items-center"><div class="flex-shrink-0"><div class="w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center"><!></div></div> <div class="ml-4"><p class="text-sm font-medium text-gray-500">This Month</p> <p class="text-2xl font-bold text-gray-900"> </p> <p><!> </p></div></div>'),Ge=h('<div class="flex items-center"><div class="flex-shrink-0"><div class="w-8 h-8 bg-success-100 rounded-lg flex items-center justify-center"><!></div></div> <div class="ml-4"><p class="text-sm font-medium text-gray-500">Savings</p> <p class="text-2xl font-bold text-gray-900"> </p> <p><!> </p></div></div>'),Je=h('<div class="flex items-center"><div class="flex-shrink-0"><div class="w-8 h-8 bg-warning-100 rounded-lg flex items-center justify-center"><!></div></div> <div class="ml-4"><p class="text-sm font-medium text-gray-500">Categories</p> <p class="text-2xl font-bold text-gray-900"> </p> <p class="text-xs text-gray-500">with spending</p></div></div>'),Ke=h('<div class="flex items-center"><div class="flex-shrink-0"><div class="w-8 h-8 bg-danger-100 rounded-lg flex items-center justify-center"><!></div></div> <div class="ml-4"><p class="text-sm font-medium text-gray-500">Budget Used</p> <p class="text-2xl font-bold text-gray-900"> </p> <p class="text-xs text-gray-500">of monthly budget</p></div></div>'),Qe=h("<p> </p>"),Ve=h('<div class="flex items-center justify-between"><div class="flex items-center space-x-3"><div class="text-lg font-bold text-gray-400"></div> <div class="w-4 h-4 rounded-full"></div> <div><p class="font-medium text-gray-900"> </p> <p class="text-sm text-gray-500"> </p></div></div> <div class="text-right"><p class="font-bold text-gray-900"> </p> <!></div></div>'),Xe=h('<div class="space-y-4"></div>'),et=h('<div class="p-4 bg-danger-50 border border-danger-200 rounded-lg"><p class="text-danger-800 font-medium"> </p> <p class="text-danger-700 text-sm mt-1">Consider reducing spending in your top categories or adjusting your budget.</p></div>'),tt=h(`<div class="p-4 bg-warning-50 border border-warning-200 rounded-lg"><p class="text-warning-800 font-medium">💡 You're close to your budget limit</p> <p class="text-warning-700 text-sm mt-1"> </p></div>`),rt=h(`<div class="p-4 bg-success-50 border border-success-200 rounded-lg"><p class="text-success-800 font-medium">✅ You're doing well with your budget!</p> <p class="text-success-700 text-sm mt-1"> </p></div>`),at=h('<div class="p-4 bg-blue-50 border border-blue-200 rounded-lg"><p class="text-blue-800 font-medium">📈 Higher spending this month</p> <p class="text-blue-700 text-sm mt-1"> </p></div>'),st=h('<div class="p-4 bg-purple-50 border border-purple-200 rounded-lg"><p class="text-purple-800 font-medium">🎯 Consider diversifying expenses</p> <p class="text-purple-700 text-sm mt-1"> </p></div>'),dt=h('<div class="space-y-4"><!> <!> <!></div>'),ot=h('<div class="grid grid-cols-1 md:grid-cols-4 gap-6"><!> <!> <!> <!></div> <div class="grid grid-cols-1 lg:grid-cols-2 gap-6"><!> <!></div> <!> <!> <!>',1),nt=h('<div class="space-y-6"><div><h1 class="text-2xl font-bold text-gray-900">Analytics & Insights</h1> <p class="text-gray-500 mt-1">Analyze your spending patterns and financial trends</p></div> <!></div>');function yt(re,O){Te(O,!1);const R=D(),G=D(),J=D(),T=D(),E=D(),f=D(),K=D(),ae=D(),se=D(),A=D();let t=Ue(O,"data",8);I(()=>n(t()),()=>{z(R,t().categoryBreakdown?.length>0?{labels:t().categoryBreakdown.map(s=>s.category_name),datasets:[{label:"Actual Spending",data:t().categoryBreakdown.map(s=>s.actual),backgroundColor:t().categoryBreakdown.map(s=>s.category_color),borderWidth:2,borderColor:"#ffffff"}]}:null)}),I(()=>n(t()),()=>{z(G,t().categoryBreakdown?.length>0?{labels:t().categoryBreakdown.map(s=>s.category_name),datasets:[{label:"Planned",data:t().categoryBreakdown.map(s=>s.planned),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:1},{label:"Actual",data:t().categoryBreakdown.map(s=>s.actual),backgroundColor:"rgba(16, 185, 129, 0.8)",borderColor:"rgb(16, 185, 129)",borderWidth:1}]}:null)}),I(()=>(n(t()),fe),()=>{z(J,t().trends?.length>0?{labels:t().trends.map(s=>`${fe(s.month)} ${s.year}`),datasets:[{label:"Income",data:t().trends.map(s=>s.income),borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",fill:!0,tension:.4},{label:"Expenses",data:t().trends.map(s=>s.expenses),borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!0,tension:.4},{label:"Savings",data:t().trends.map(s=>s.savings),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4}]}:null)}),I(()=>n(t()),()=>{z(T,t().trends?.length>0?t().trends.reduce((s,Y)=>s+Y.expenses,0)/t().trends.length:0)}),I(()=>n(t()),()=>{z(E,t().trends?.length>0?t().trends.reduce((s,Y)=>s+Y.savings,0)/t().trends.length:0)}),I(()=>n(t()),()=>{z(f,t().budgetSummary?.totalActual||0)}),I(()=>n(t()),()=>{z(K,t().budgetSummary?t().budgetSummary.salary-t().budgetSummary.totalActual:0)}),I(()=>(e(f),e(T)),()=>{z(ae,e(f)>e(T)?"up":"down")}),I(()=>(e(K),e(E)),()=>{z(se,e(K)>e(E)?"up":"down")}),I(()=>n(t()),()=>{z(A,t().categoryBreakdown?.filter(s=>s.actual>0).sort((s,Y)=>Y.actual-s.actual).slice(0,3)||[])}),Ye(),Me();var de=nt();ze(s=>{Ie.title="Analytics - Budget Tracker"});var be=d(a(de),2);{var he=s=>{Z(s,{title:"Error",children:(Y,X)=>{var H=Oe(),ee=a(H,!0);r(H),B(()=>b(ee,(n(t()),i(()=>t().error)))),_(Y,H)},$$slots:{default:!0}})},ye=s=>{var Y=ot(),X=te(Y),H=a(X);Z(H,{children:(v,S)=>{var u=Re(),l=a(u),y=a(l),o=a(y);qe(o,{class:"w-5 h-5 text-primary-600"}),r(y),r(l);var $=d(l,2),g=d(a($),2),k=a(g,!0);r(g);var c=d(g,2),m=a(c);xe(m,()=>e(ae)==="up"?ce:le,(x,w)=>{w(x,{class:"w-3 h-3 mr-1"})});var C=d(m);r(c),r($),r(u),B((x,w)=>{b(k,x),ie(c,1,`text-xs flex items-center ${e(ae)==="up"?"text-danger-600":"text-success-600"}`),b(C,` vs ${w??""} avg`)},[()=>(n(p),e(f),i(()=>p(e(f)))),()=>(n(p),e(T),i(()=>p(e(T))))]),_(v,u)},$$slots:{default:!0}});var ee=d(H,2);Z(ee,{children:(v,S)=>{var u=Ge(),l=a(u),y=a(l),o=a(y);ce(o,{class:"w-5 h-5 text-success-600"}),r(y),r(l);var $=d(l,2),g=d(a($),2),k=a(g,!0);r(g);var c=d(g,2),m=a(c);xe(m,()=>e(se)==="up"?ce:le,(x,w)=>{w(x,{class:"w-3 h-3 mr-1"})});var C=d(m);r(c),r($),r(u),B((x,w)=>{b(k,x),ie(c,1,`text-xs flex items-center ${e(se)==="up"?"text-success-600":"text-danger-600"}`),b(C,` vs ${w??""} avg`)},[()=>(n(p),e(K),i(()=>p(e(K)))),()=>(n(p),e(E),i(()=>p(e(E))))]),_(v,u)},$$slots:{default:!0}});var pe=d(ee,2);Z(pe,{children:(v,S)=>{var u=Je(),l=a(u),y=a(l),o=a(y);He(o,{class:"w-5 h-5 text-warning-600"}),r(y),r(l);var $=d(l,2),g=d(a($),2),k=a(g,!0);r(g),ne(2),r($),r(u),B(()=>b(k,(n(t()),i(()=>t().categoryBreakdown?.length||0)))),_(v,u)},$$slots:{default:!0}});var $e=d(pe,2);Z($e,{children:(v,S)=>{var u=Ke(),l=a(u),y=a(l),o=a(y);le(o,{class:"w-5 h-5 text-danger-600"}),r(y),r(l);var $=d(l,2),g=d(a($),2),k=a(g);r(g),ne(2),r($),r(u),B(c=>b(k,`${c??""}%`),[()=>(n(t()),i(()=>t().budgetSummary?Math.round(t().budgetSummary.totalActual/t().budgetSummary.salary*100):0))]),_(v,u)},$$slots:{default:!0}}),r(X);var oe=d(X,2),ge=a(oe);{var we=v=>{Z(v,{title:"Spending Distribution",subtitle:"Current month breakdown",children:(S,u)=>{ve(S,{type:"doughnut",get data(){return e(R)},height:300})},$$slots:{default:!0}})};M(ge,v=>{e(R)&&v(we)})}var Ce=d(ge,2);{var ke=v=>{Z(v,{title:"Budget vs Actual",subtitle:"Planned vs actual spending by category",children:(S,u)=>{ve(S,{type:"bar",get data(){return e(G)},height:300,options:{responsive:!0,plugins:{legend:{position:"top"}},scales:{x:{beginAtZero:!0},y:{beginAtZero:!0,ticks:{callback(l){return"$"+l.toLocaleString()}}}}}})},$$slots:{default:!0}})};M(Ce,v=>{e(G)&&v(ke)})}r(oe);var me=d(oe,2);{var Se=v=>{Z(v,{title:"Monthly Trends",subtitle:"Income, expenses, and savings over time",children:(S,u)=>{ve(S,{type:"line",get data(){return e(J)},height:350,options:{responsive:!0,plugins:{legend:{position:"top"}},scales:{x:{beginAtZero:!0},y:{beginAtZero:!0,ticks:{callback(l){return"$"+l.toLocaleString()}}}}}})},$$slots:{default:!0}})};M(me,v=>{e(J)&&v(Se)})}var _e=d(me,2);{var Be=v=>{Z(v,{title:"Top Spending Categories",subtitle:"Your biggest expense categories this month",children:(S,u)=>{var l=Xe();Ne(l,5,()=>e(A),Ee,(y,o,$)=>{var g=Ve(),k=a(g),c=a(k);c.textContent=`#${$+1}`;var m=d(c,2),C=d(m,2),x=a(C),w=a(x,!0);r(x);var N=d(x,2),F=a(N);r(N),r(C),r(k);var U=d(k,2),q=a(U),Q=a(q,!0);r(q);var L=d(q,2);{var W=P=>{var j=Qe(),V=a(j);r(j),B(Pe=>{ie(j,1,`text-xs ${e(o),i(()=>e(o).actual>e(o).planned?"text-danger-600":"text-success-600")??""}`),b(V,`${e(o),i(()=>e(o).actual>e(o).planned?"Over":"Under")??""} budget by ${Pe??""}`)},[()=>(n(p),e(o),i(()=>p(Math.abs(e(o).actual-e(o).planned))))]),_(P,j)};M(L,P=>{e(o),i(()=>e(o).planned>0)&&P(W)})}r(U),r(g),B((P,j)=>{We(m,`background-color: ${e(o),i(()=>e(o).category_color)??""}`),b(w,(e(o),i(()=>e(o).category_name))),b(F,`${P??""}% of total spending`),b(Q,j)},[()=>(e(o),e(f),i(()=>(e(o).actual/e(f)*100).toFixed(1))),()=>(n(p),e(o),i(()=>p(e(o).actual)))]),_(y,g)}),r(l),_(S,l)},$$slots:{default:!0}})};M(_e,v=>{e(A),i(()=>e(A).length>0)&&v(Be)})}var Ae=d(_e,2);Z(Ae,{title:"Insights & Recommendations",children:(v,S)=>{var u=dt(),l=a(u);{var y=c=>{var m=ue(),C=te(m);{var x=N=>{var F=et(),U=a(F),q=a(U);r(U),ne(2),r(F),B(Q=>b(q,`⚠️ You're over budget by ${Q??""}`),[()=>(n(p),n(t()),i(()=>p(Math.abs(t().budgetSummary.remainingBudget))))]),_(N,F)},w=N=>{var F=ue(),U=te(F);{var q=L=>{var W=tt(),P=d(a(W),2),j=a(P);r(P),r(W),B(V=>b(j,`You have ${V??""} remaining. Consider tracking expenses more carefully.`),[()=>(n(p),n(t()),i(()=>p(t().budgetSummary.remainingBudget)))]),_(L,W)},Q=L=>{var W=rt(),P=d(a(W),2),j=a(P);r(P),r(W),B(V=>b(j,`You have ${V??""} remaining this month.`),[()=>(n(p),n(t()),i(()=>p(t().budgetSummary.remainingBudget)))]),_(L,W)};M(U,L=>{n(t()),i(()=>t().budgetSummary.remainingBudget<t().budgetSummary.salary*.1)?L(q):L(Q,!1)},!0)}_(N,F)};M(C,N=>{n(t()),i(()=>t().budgetSummary.remainingBudget<0)?N(x):N(w,!1)})}_(c,m)};M(l,c=>{n(t()),i(()=>t().budgetSummary)&&c(y)})}var o=d(l,2);{var $=c=>{var m=at(),C=d(a(m),2),x=a(C);r(C),r(m),B(w=>b(x,`You're spending ${w??""} more than your 6-month average.`),[()=>(n(p),e(f),e(T),i(()=>p(e(f)-e(T))))]),_(c,m)};M(o,c=>{e(f)>e(T)&&e(T)>0&&c($)})}var g=d(o,2);{var k=c=>{var m=st(),C=d(a(m),2),x=a(C);r(C),r(m),B(w=>b(x,`${e(A),i(()=>e(A)[0].category_name)??""} represents ${w??""}% of your spending. Consider if this balance is right for your goals.`),[()=>(e(A),e(f),i(()=>(e(A)[0].actual/e(f)*100).toFixed(1)))]),_(c,m)};M(g,c=>{e(A),e(f),i(()=>e(A).length>0&&e(A)[0].actual>e(f)*.4)&&c(k)})}r(u),_(v,u)},$$slots:{default:!0}}),_(s,Y)};M(be,s=>{n(t()),i(()=>t().error)?s(he):s(ye,!1)})}r(de),_(re,de),je()}export{yt as component};
